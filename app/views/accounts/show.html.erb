<%= render 'shared/flash' %>

<div class="flex justify-between items-center mb-4">
  <h1 class="text-2xl font-bold"><%= @account.name %></h1>
  <div class="flex space-x-2">
    <%= render ViewButtonComponent.new(path: accounts_path, label: "Back to Accounts", color: :gray) %>
    <% if @account.account_memberships.find_by(user: Current.user)&.owner? %>
      <%= render EditButtonComponent.new(path: edit_account_path(@account)) %>
      <%= render ActionButtonComponent.new(
        path: account_account_memberships_path(@account),
        label: "Manage Members",
        color: :green
      ) %>
    <% end %>
  </div>
</div>

<h2 class="text-xl font-semibold mb-4">Members</h2>
<table class="min-w-full bg-white border mb-6">
  <thead>
    <tr class="bg-gray-100">
      <th class="px-4 py-2 text-left">Name</th>
      <th class="px-4 py-2 text-left">Email</th>
      <th class="px-4 py-2 text-left">Role</th>
    </tr>
  </thead>
  <tbody>
    <% @members.each do |membership| %>
      <tr class="border-t">
        <td class="px-4 py-2"><%= membership.user.name %></td>
        <td class="px-4 py-2"><%= membership.user.email_address %></td>
        <td class="px-4 py-2"><%= membership.role.capitalize %></td>
      </tr>
    <% end %>
  </tbody>
</table>

