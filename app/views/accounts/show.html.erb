<%= render 'shared/flash' %>

<div class="flex justify-between items-center mb-4">
  <h1 class="text-2xl font-bold"><%= @account.name %></h1>
  <div class="flex space-x-2">
    <%= link_to "Back to Accounts", accounts_path, class: "px-4 py-2 bg-gray-500 text-white rounded hover:bg-gray-600" %>
    <% if @account.account_memberships.find_by(user: Current.user)&.owner? %>
      <%= link_to "Edit", edit_account_path(@account), class: "px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600" %>
      <%= link_to "Manage Members", account_account_memberships_path(@account), class: "px-4 py-2 bg-green-500 text-white rounded hover:bg-green-600" %>
    <% end %>
  </div>
</div>

<h2 class="text-xl font-semibold mb-4">Members</h2>
<table class="min-w-full bg-white border mb-6">
  <thead>
    <tr class="bg-gray-100">
      <th class="px-4 py-2 text-left">Name</th>
      <th class="px-4 py-2 text-left">Email</th>
      <th class="px-4 py-2 text-left">Role</th>
    </tr>
  </thead>
  <tbody>
    <% @members.each do |membership| %>
      <tr class="border-t">
        <td class="px-4 py-2"><%= membership.user.name %></td>
        <td class="px-4 py-2"><%= membership.user.email_address %></td>
        <td class="px-4 py-2"><%= membership.role.capitalize %></td>
      </tr>
    <% end %>
  </tbody>
</table>

