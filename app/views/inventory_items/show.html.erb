<p style="color: green"><%= notice %></p>

<div class="mb-4">
  <%= link_to "← Back to Inventory", inventory_items_path, class: "text-blue-500 hover:underline" %>
</div>

<h1 class="text-2xl font-bold mb-4"><%= @inventory_item.name %></h1>

<div class="mb-4 flex space-x-2">
  <%= render EditButtonComponent.new(path: edit_inventory_item_path(@inventory_item)) %>
  <%= render DeleteButtonComponent.new(
    path: @inventory_item,
    confirm_message: "Are you sure?"
  ) %>
  <% if @inventory_item.stock_state == "empty" || @inventory_item.stock_state == "low" %>
    <%= link_to "Add to Shopping List", add_to_shopping_list_inventory_item_path(@inventory_item), 
        data: { turbo_method: :post }, 
        class: "px-4 py-2 bg-green-500 text-white rounded hover:bg-green-600 transition-colors" %>
  <% end %>
</div>

<div class="bg-gray-50 p-4 rounded mb-4">
  <h2 class="text-xl font-semibold mb-2">Details</h2>
  <div class="grid grid-cols-2 gap-4">
    <div>
      <p class="text-sm text-gray-600">Stock State</p>
      <p class="font-semibold">
        <span class="px-2 py-1 rounded text-xs 
          <%= @inventory_item.stock_state == 'in_stock' ? 'bg-green-100 text-green-800' : 
              @inventory_item.stock_state == 'low' ? 'bg-yellow-100 text-yellow-800' : 
              'bg-red-100 text-red-800' %>">
          <%= t("activerecord.attributes.inventory_item.stock_state.#{@inventory_item.stock_state}") %>
        </span>
      </p>
    </div>
    <div>
      <p class="text-sm text-gray-600">Category</p>
      <p class="font-semibold"><%= @inventory_item.category&.name || "-" %></p>
    </div>
    <div>
      <p class="text-sm text-gray-600">Type</p>
      <p class="font-semibold">
        <span class="px-2 py-1 rounded text-xs bg-gray-100 text-gray-800">
          <%= @inventory_item.consumable? ? "Consumable" : "Non-consumable" %>
        </span>
      </p>
    </div>
    <% if @inventory_item.notes.present? %>
      <div class="col-span-2">
        <p class="text-sm text-gray-600">Notes</p>
        <p class="font-semibold"><%= @inventory_item.notes %></p>
      </div>
    <% end %>
  </div>
</div>

<div class="flex items-center gap-4 mb-4">
  <div class="flex-shrink-0">
    <% if @inventory_item.stock_state == "in_stock" %>
      <div class="w-16 h-16 rounded-full bg-green-500 flex items-center justify-center">
        <span class="text-white text-2xl">✓</span>
      </div>
    <% elsif @inventory_item.stock_state == "low" %>
      <div class="w-16 h-16 rounded-full bg-yellow-500 flex items-center justify-center">
        <span class="text-white text-2xl">!</span>
      </div>
    <% else %>
      <div class="w-16 h-16 rounded-full bg-red-500 flex items-center justify-center">
        <span class="text-white text-2xl">×</span>
      </div>
    <% end %>
  </div>
  <div>
    <p class="text-sm text-gray-600">Visual Indicator</p>
    <p class="text-xs text-gray-500">Green = In Stock, Yellow = Low, Red = Empty</p>
  </div>
</div>

