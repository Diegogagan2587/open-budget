<header class="bg-gray-100 p-4 mb-6">
  <nav class="container mx-auto flex flex-col sm:flex-row justify-between items-center">
    <div class="flex space-x-4">
      <%= link_to t("nav.dashboard"), root_path, class: "font-semibold" %>
      <%= link_to t("nav.budgets"), budget_periods_path %>
      <%= link_to t("nav.expenses"), expenses_path %>
      <%= link_to t("nav.categories"), categories_path %>
    </div>
    <div class="flex space-x-4 items-center">
      <% if authenticated? %>
        <% if current_account %>
          <div class="relative">
            <%= form_with url: account_switch_path, method: :post, local: true, class: "inline" do |f| %>
              <%= f.select :account_id, 
                  options_from_collection_for_select(Current.user.accounts, :id, :name, current_account.id),
                  {},
                  { 
                    onchange: "this.form.submit()",
                    class: "px-3 py-1 border rounded text-sm"
                  } %>
            <% end %>
          </div>
          <%= link_to t("nav.accounts"), accounts_path, class: "text-sm text-gray-700 hover:text-gray-900" %>
        <% end %>
        <%= link_to t("nav.settings"), edit_settings_path, class: "text-sm text-gray-700 hover:text-gray-900" %>
        <%= link_to session_path, data: { turbo_method: :delete }, class: "px-4 py-2 bg-gray-500 text-white text-sm rounded-lg hover:bg-gray-600 transition-colors" do %>
          <%= t("nav.log_out") %>
        <% end %>
      <% end %>
    </div>
  </nav>
</header>
